<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/editor-icons.html">
<link rel="import" href="../../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../../bower_components/neon-animation/animations/fade-out-animation.html">


<dom-module id="languages-manager">

<template>

<style is="custom-style">


</style>

	

</template>

<script>

	Polymer({

		is: "user-manager", 


		properties: {
			uid: {
				type: String
			},
			userData: {
				type: Object,
				value: { displayName: "Anonymous"},
				reflectToAttribute: true
			},
			location: {
				type: String
			}
		},

		listeners:{
			'obrigado' : 'handleObrigado'
		},

		ready: function(){
			document.addEventListener('obrigado', function(e){
				


			var ref = new Firebase("https://popping-heat-2481.firebaseio.com/Users");
			

			var path = ref.getAuth().uid.toString() + '/frasi/';

			console.log(path);

			ref.child(path).push({firebaseKey: e.detail.data.__firebaseKey__});



			});
		},

		prova: function(){
			console.log('provaaaa');
		},

		handleObrigado: function(){
			console.log('handellato');
		},

		setLogin: function(){
			var ref = new Firebase("https://popping-heat-2481.firebaseio.com/Users");
			var frasi = [{numero: 0},{numero: 5}, {numero: 7}];
			var data = {frasi: frasi, name: this.userData.google.displayName};
			ref.child(ref.getAuth().uid.toString()).set(data);
		},

		setObrigadoOnSentence: function(firebaseKey){
			console.log("adding Obrigado to sentence:" + firebaseKey);
		},
		removeObrigadoFromSentence: function(firebaseKey){
			console.log("removing Obrigado from sentence:" + firebaseKey);
		},
		getDisplayName: function(){

			console.log("retrieving display name");

			console.log(this.userData);
			return this.userData.google.displayName;
		}
	});

</script>

</dom-module>