<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<dom-module id="obrigado-admin-panel">

<template>

	<style>
		#drawerToolbar{
			background: #673AB7;
			color: #FFC107;
		}
		#mainToolbar{
			background: #FFC107;
			color: #673AB7;
		}
		iron-pages{
			padding: 20px;
		}

		/* Palette generated by Material Palette - materialpalette.com/deep-purple/amber */

	.dark-primary-color    { background: #512DA8; }
	.default-primary-color { background: #673AB7; }
	.light-primary-color   { background: #D1C4E9; }
	.text-primary-color    { color: #FFFFFF; }
	.accent-color          { background: #FFC107; }
	.primary-text-color    { color: #212121; }
	.secondary-text-color  { color: #727272; }
	.divider-color         { border-color: #B6B6B6; }

	</style>

	<paper-drawer-panel id="paperDrawerPanel">
		<paper-scroll-header-panel drawer fixed>

			<!--<paper-toolbar id="drawerToolbar">
	          <span class="paper-font-title">Menu</span>
	        </paper-toolbar> -->

	        <div id="drawerToolbar">MENU</div>

	        <paper-button on-tap="showLanguages">show lanuages</paper-button>

			<pages-menu id="ironmenu"></iron-pages-menu> 

		</paper-scroll-header-panel>

		 <paper-scroll-header-panel main id="headerPanelMain" condenses keep-condensed-header>

			 	 <!-- Main Toolbar -->
	       <paper-toolbar id="mainToolbar">  
	        <paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle></paper-icon-button>
	          <span class="flex"></span> 

	          <!-- Toolbar icons -->
	       <!-- <paper-icon-button icon="refresh"></paper-icon-button> 
	          <paper-icon-button icon="search"></paper-icon-button>  -->

	          <!-- Application name -->
	         <div class="middle middle-container center horizontal layout">
	            <div class="app-name">Obrigado Admin Panel</div>
	          </div> 
	        </paper-toolbar>

			<iron-pages id="ironpages" selected="0">
				<div role="page" name="Login" order="1" icon="info">
					<firebase-login id="login" location="[[location]]" user="{{authData}}" user-sentences="{{userSentences}}" on-logged-in="_handleLoggedIn"></firebase-login>
				</div>
				<div role="page" name="Languages" order="2" icon="language">
					<languages-manager id="languagesElement" location="[[location]]" languages="{{languages}}"></languages-manager>
				</div>
				<div role="page" name="Categories" order="3" icon="maps:local-offer">
					<categories-manager location="[[location]]"></categories-manager>
				</div>
				<div role="page" name="Sentences" order="4" icon="communication:chat-bubble">
					<sentences-manager location="[[location]]" user-sentences="{{userSentences}}"></sentences-manager>
				</div>
			</iron-pages> 
		 </paper-scroll-header-panel>

	</paper-drawer-panel>

</template>


<script>

Polymer({

	is: "obrigado-admin-panel", 

	properties: {
		location: String,

		authData: {
			type: Object
		}, 

		userSentences: {
			type: Object, 
			notify: true
		}
	},

	listeners: {
		'obrigado': 'handleObrigado'
	},

	_handleLoggedIn: function(){
		this.$.languagesElement._handleLoggedIn();
	},

	showLanguages: function(){
		console.log(this.userSentences);
		//this.languages.slice();
	},

	handleObrigado: function(e){

		this.$.login.setObrigado(e.detail.data);
	},

	attached: function(){

		this.$.ironmenu.registration();
	}

});

</script>


</dom-module>